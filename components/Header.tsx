import React, { useEffect, useRef, useState } from 'react';
import { Menu, ShoppingBag } from 'lucide-react';
import gsap from 'gsap';

const Header: React.FC = () => {
  const headerRef = useRef<HTMLElement>(null);
  const [isScrolled, setIsScrolled] = useState(false);

  useEffect(() => {
    const handleScroll = () => {
      setIsScrolled(window.scrollY > 100);
    };

    window.addEventListener('scroll', handleScroll);
    return () => window.removeEventListener('scroll', handleScroll);
  }, []);

  return (
    <header 
      ref={headerRef}
      className={`fixed top-0 left-0 w-full z-50 px-6 py-6 md:px-12 md:py-8 flex justify-between items-start pointer-events-none mix-blend-difference text-white transition-all duration-300 ${isScrolled ? 'scale-95' : 'scale-100'}`}
    >
      {/* Left Logo */}
      <div className="pointer-events-auto hero-element">
        <svg width="138" height="63" viewBox="0 0 138 63" fill="none" xmlns="http://www.w3.org/2000/svg" className="w-24 md:w-32 h-auto text-current">
            <path fill="currentColor" d="M122.638.174c8.968 0 14.659 6.985 14.659 15.737 0 8.795-5.691 15.736-14.659 15.736-8.967 0-14.658-6.985-14.658-15.736 0-8.752 5.691-15.737 14.658-15.737Zm4.182 30.265c4.613-1.293 7.329-8.88 4.958-17.158-2.328-8.106-8.752-13.193-13.322-11.9-4.57 1.294-7.286 8.968-4.914 17.246 2.328 8.105 8.708 13.106 13.278 11.813ZM88.191.821c13.495 0 18.496 7.027 18.496 14.874 0 9.614-6.381 15.305-17.116 15.305H78.577l-.56-1.207c1.724-1.854 1.724-1.854 1.724-3.492V5.52c0-1.639 0-1.639-1.724-3.536l.56-1.164h9.614Zm13.107 14.917c0-6.984-4.182-14.4-13.107-14.4-3.707 0-3.707 2.544-3.707 4.182V26.3c0 1.639.043 4.183 2.802 4.183 7.89 0 14.012-2.76 14.012-14.745ZM77.192.821l.604 1.207c-3.535 2.673-3.535 2.673-3.535 4.829V31h-1.983L55.636 7.547C53.74 4.917 53.74 4.7 53.74 9.444v15.52c0 2.156 0 2.156 3.363 4.829L56.498 31H50.29l-.603-1.207c3.535-2.673 3.535-2.673 3.535-4.829V6.857c0-2.156 0-2.156-3.535-4.829L50.29.821h6.338l15.305 21.384c1.81 2.5 1.81 2.5 1.81-1.983V6.857c0-2.156 0-2.156-3.362-4.829l.603-1.207h6.209ZM31.49.821h5.777l8.795 24.014c1.121 3.104 1.121 3.104 2.76 4.958L48.217 31h-7.07l-.604-1.207c1.293-1.81 1.293-1.81-.863-8.32-.776-2.329-1.552-3.493-3.104-3.493h-4.57l-2.586 2.414c-1.725 1.639-2.329 3.19-2.846 4.829-.69 2.242-.69 2.242 1.94 4.57L27.912 31h-5.519l-.603-1.207c3.276-2.414 3.276-2.414 4.44-5.519l6.467-17.158c.56-1.423.949-2.415-1.81-5.088L31.49.821Zm-1.725 18.582 2.027-1.94h4.656c1.552 0 1.336-1.337 1.078-2.07l-2.932-8.32c-.733-2.113-1.078-.95-1.423.043L29.12 18.152c-.776 2.07-.992 2.803.646 1.25ZM19.945 24.145l1.853.647L20.85 31H.716l-.56-1.164c1.767-1.94 1.767-1.94 1.767-3.708V5.693c0-1.768 0-1.768-1.767-3.708L.716.821h7.157l.56 1.164c-1.767 1.94-1.767 1.94-1.767 3.708v20.435c0 1.768 0 4.355 2.716 4.355 3.104 0 8.191-.431 10.563-6.338Z" />
            <path fill="currentColor" d="M125.417 62.186c-2.382 0-4.395-.357-6.039-1.072-1.619-.714-2.858-1.715-3.716-3.001-.834-1.31-1.25-2.811-1.25-4.502h6.503c0 .738.167 1.381.5 1.93.334.547.846.976 1.537 1.286.69.31 1.596.464 2.715.464.834 0 1.549-.095 2.144-.286.619-.19 1.096-.488 1.429-.893.334-.429.501-.977.501-1.644 0-.5-.096-.905-.286-1.215-.167-.31-.465-.571-.894-.786-.404-.214-.976-.405-1.715-.572a39.217 39.217 0 0 0-2.787-.5c-1.5-.238-2.823-.56-3.966-.965-1.143-.428-2.096-.952-2.859-1.572a5.935 5.935 0 0 1-1.715-2.215c-.381-.858-.571-1.858-.571-3.002 0-1.69.416-3.144 1.25-4.359.858-1.239 2.061-2.18 3.609-2.823 1.572-.667 3.442-1 5.61-1 2.073 0 3.871.333 5.396 1 1.524.643 2.703 1.549 3.537 2.716.834 1.167 1.263 2.525 1.286 4.073h-6.467c-.024-.738-.226-1.322-.608-1.75-.357-.453-.833-.775-1.429-.965a6.175 6.175 0 0 0-1.894-.286c-.738 0-1.381.095-1.929.286-.548.19-.977.476-1.286.857-.286.358-.429.834-.429 1.43 0 .595.155 1.072.464 1.429.334.333.929.62 1.787.857.857.239 2.084.477 3.68.715 1.072.167 2.12.393 3.145.679a9.72 9.72 0 0 1 2.858 1.286c.882.572 1.572 1.358 2.073 2.359.524 1 .786 2.298.786 3.894s-.417 3.014-1.251 4.252c-.81 1.215-2.025 2.168-3.644 2.859-1.62.69-3.645 1.036-6.075 1.036ZM105.813 61.83V35.78h6.396v26.05h-6.396ZM80.714 61.83V35.78h13.721c1.048 0 2.013.096 2.894.286.905.19 1.715.477 2.43.858.715.381 1.322.87 1.822 1.465a5.86 5.86 0 0 1 1.144 2.037c.286.762.429 1.631.429 2.608 0 1.596-.441 2.954-1.323 4.074-.857 1.095-2.024 1.834-3.501 2.215v.25c1.024.167 1.846.465 2.465.893.62.43 1.072.989 1.358 1.68.31.667.465 1.489.465 2.465v4.18c0 .477.011.978.035 1.502.048.5.191 1.012.429 1.536h-6.467c-.143-.31-.25-.726-.322-1.25a13.345 13.345 0 0 1-.107-1.787v-3.073c0-.667-.107-1.227-.322-1.68-.19-.452-.548-.81-1.072-1.071-.524-.262-1.274-.393-2.25-.393h-5.968v-5.039h6.289c1.358 0 2.31-.321 2.858-.964.572-.644.858-1.43.858-2.359 0-.595-.095-1.084-.286-1.465a2.17 2.17 0 0 0-.75-.965 3.202 3.202 0 0 0-1.18-.571 5.893 5.893 0 0 0-1.5-.179H87.11V61.83h-6.396ZM55.615 61.83V35.78h13.721c1.049 0 2.013.096 2.895.286.905.19 1.715.477 2.43.858.714.381 1.322.87 1.822 1.465.5.572.881 1.25 1.143 2.037.286.762.429 1.631.429 2.608 0 1.596-.44 2.954-1.322 4.074-.858 1.095-2.025 1.834-3.502 2.215v.25c1.024.167 1.846.465 2.466.893.619.43 1.072.989 1.357 1.68.31.667.465 1.489.465 2.465v4.18c0 .477.012.978.036 1.502.047.5.19 1.012.428 1.536h-6.467c-.143-.31-.25-.726-.322-1.25a13.328 13.328 0 0 1-.107-1.787v-3.073c0-.667-.107-1.227-.321-1.68-.191-.452-.548-.81-1.072-1.071-.524-.262-1.275-.393-2.252-.393h-5.967v-5.039h6.29c1.357 0 2.31-.321 2.858-.964.571-.644.857-1.43.857-2.359 0-.595-.095-1.084-.286-1.465a2.171 2.171 0 0 0-.75-.965 3.202 3.202 0 0 0-1.18-.571 5.893 5.893 0 0 0-1.5-.179h-5.753V61.83h-6.396ZM40.08 62.186c-2 0-3.811-.297-5.431-.893-1.596-.596-2.978-1.453-4.145-2.573-1.167-1.143-2.06-2.548-2.68-4.216-.62-1.667-.929-3.573-.929-5.717 0-2.144.31-4.038.93-5.681.618-1.668 1.512-3.062 2.679-4.181 1.167-1.144 2.549-2.013 4.145-2.609 1.62-.595 3.43-.893 5.431-.893 1.977 0 3.776.298 5.396.893 1.62.596 3.013 1.465 4.18 2.609 1.168 1.143 2.06 2.537 2.68 4.18.62 1.644.93 3.538.93 5.682 0 2.144-.31 4.05-.93 5.717-.62 1.668-1.512 3.073-2.68 4.216-1.167 1.12-2.56 1.977-4.18 2.573-1.62.596-3.419.893-5.396.893Zm0-5.467c1.334 0 2.501-.285 3.502-.857 1-.572 1.763-1.441 2.287-2.609.548-1.167.822-2.656.822-4.466 0-1.358-.155-2.525-.465-3.502-.31-1-.762-1.822-1.358-2.465a5.232 5.232 0 0 0-2.072-1.43c-.81-.333-1.715-.5-2.716-.5-1.334 0-2.501.286-3.502.858-.976.547-1.739 1.405-2.287 2.572-.547 1.168-.821 2.656-.821 4.467 0 1.358.154 2.549.464 3.573.334 1 .786 1.822 1.358 2.466a5.232 5.232 0 0 0 2.072 1.429c.81.31 1.716.464 2.716.464ZM1.02 61.83V35.78h7.79l9.576 16.973h.215l-.215-7.897v-9.075h6.146v26.048h-7.36L7.523 45.142h-.215l.25 7.218v9.47H1.021Z"/>
        </svg>
      </div>

      {/* Center Logo (Optional/Absolute Center) */}
      <div className="absolute left-1/2 top-8 -translate-x-1/2 hidden md:block hero-element pointer-events-auto">
        <svg width="40" height="40" viewBox="0 0 50 50" fill="none" xmlns="http://www.w3.org/2000/svg" className="text-current">
            <path d="M10 5L10 35H35" stroke="currentColor" strokeWidth="4" strokeLinecap="square"/>
            <path d="M25 5L25 25H40" stroke="currentColor" strokeWidth="4" strokeLinecap="square"/>
        </svg>
      </div>

      {/* Right Actions */}
      <div className="flex items-center gap-4 pointer-events-auto hero-element">
        <a 
          href="#"
          className="group flex items-center gap-2 bg-ln-yellow text-black px-6 py-3 font-display font-bold uppercase tracking-tight hover:bg-black hover:text-ln-yellow transition-colors duration-300 rounded-sm"
        >
          <ShoppingBag size={18} />
          <span>Store</span>
        </a>
        
        <button className="bg-white border-2 border-black p-3 rounded-sm hover:bg-black hover:text-white transition-colors duration-300">
          <Menu size={24} className="text-black hover:text-white" />
        </button>
      </div>
    </header>
  );
};

export default Header;